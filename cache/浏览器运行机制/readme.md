>浏览器内核 渲染引擎和js引擎

>渲染引擎 HTML解释器 css解释器，布局，网络，存储，图形，音视频，图片解码器

> * 解析html： 浏览器执行了所以加载解析逻辑，在解析html的过程中发出了页面渲染所需要的各种外部请求资源

> * 计算样式：浏览器将识别并加载所有的 CSS 样式信息与 DOM 树合并，最终生成页面 render 》树（:after 
:before 这样的伪元素会在这个环节被构建到 DOM 树中）

> * 计算图层布局： 页面中所以元素相对位置的而信息，大小信息都在这一步计算

> * 回执图层： 在这一笔浏览器会根据DOM代码结果，吧每一个页面图层转换为像素，并对所以的媒>体文件进行解码。

> * 整合图层 得到页面 最好浏览器合并图层，将数据有cpu输出给GPU最终回执在屏幕上。

> Dom树的渲染 渲染引擎开始解析HTML文档，转换树，转换树中的标签到DOM结点，它被称为‘内容树’

> CSSDOM树：css的解析和DOM的解析是并行的

> 渲染树：cssdom和dom结合，之后我们得到就是渲染树render tree

> 布局渲染，从跟结点递归调用，计算每一个元素的大小，位置，给每个结点所应该出现的在品目上精确定位。layout tree

> 绘制渲染树：便利渲染书，每个结点将使用UI后端层绘制。真个过程叫绘制渲染树。

## 插入新元素
> 浏览器会通过css引擎查边css样式表，找到符合改元素的样式规则应用到这个元素上，然后重新绘制。
> * css选择符是从右到左匹配的
> 避免使用通配符，只对需要用到的元素进行选择。

>关注可以通过继承实现的属性，避免重复匹配重复定义。

>少用标签选择器。如果可以，用类选择器替代，举个🌰：

## css的 阻塞
> css是阻塞渲染的资源。需要今早尽快地下载到客户端，一遍缩短首次渲染时间
css放在头部，启用cdn实现静态资源加载速度的优化。

## js的阻塞
> js会阻塞html树 dom树的渲染，js引擎是独立于渲染引擎存在的。js代码在何处插入，就在和相互执行。
当html解析器遇到一个script标签时。它会暂停渲染进程，将控制权交给js引擎。
## JS的三种加载方式
> <script src="index.js"></script> 这种情况下 JS 会阻塞浏览器，浏览器必须等待 index.js 加载和执行完毕才能去做其它事情。
> <script async src="index.js"></script>
async 模式下，JS 不会阻塞浏览器做任何其它的事情。它的加载是异步的，当它加载结束，JS 脚本会立即执行。

>defer 模式：
<script defer src="index.js"></script>
defer 模式下，JS 的加载是异步的，执行是被推迟的。等整个文档解析完成、DOMContentLoaded 事件即将被触发时，被标记了 defer 的 JS 文件才会开始依次执行。